# IM_Server

#### 初始化
- 运行程序时，服务端会自动初始化一系列比如数据库以及socket：

![image](https://s2.ax1x.com/2019/11/06/M97Dxg.png)

#### 登录注册
1. 登录：登录时会校验密码密文以及账号
2. 注册：存储密码的密文
###### 这里只是实现了用户名判重，没给用户设置标识号。

#### 聊天
1. 单聊：需要双方上线才可以接收到信息。一方不在线的时候会将接收到的信息存入离线消息记录表。

![image](https://s2.ax1x.com/2019/11/06/M9b4u4.png)

2. 群聊：遍历在线的客户端广播信息。

![image](https://s2.ax1x.com/2019/11/06/M9b7U1.png)

###### emmm单聊功能只要曾经登录过的客户端，就算当时客户端已经关闭，仍然视作在线。所以消息记录只是存在数据库但是没有读取显示....

#### 加好友
- 输入对方用户名进行添加
###### emm没有写实现好友请求的...

